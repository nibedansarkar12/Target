<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Target Zone - рж╕рж╛ржЗржи ржЖржк</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.19/build/css/intlTelInput.min.css" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
    }
    select:disabled {
      background-color: #f3f3f3;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="bg-white shadow-2xl rounded-lg p-8 w-full max-w-3xl">
    <h2 class="text-2xl font-bold text-center text-blue-700 mb-6">ЁЯОп Target Zone - рж╕рж╛ржЗржи ржЖржк ржлрж░рзНржо</h2>
    <form id="signupForm" class="grid grid-cols-1 md:grid-cols-2 gap-4" enctype="multipart/form-data">
      <input type="text" id="name" placeholder="ЁЯСд ржкрзВрж░рзНржг ржирж╛ржо *" class="col-span-2 px-4 py-2 border rounded" required>
      <input type="tel" id="whatsapp" placeholder="ЁЯУ▒ рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржиржорзНржмрж░ *" class="col-span-2 px-4 py-2 border rounded" required>
      <input type="email" id="email" placeholder="ЁЯУз ржЗржорзЗржЗрж▓ *" class="col-span-2 px-4 py-2 border rounded" required>
      <div class="col-span-2">
        <input type="password" id="password" placeholder="ЁЯФР ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб *" class="w-full px-4 py-2 border rounded" required>
        <p class="text-xs text-gray-600 mt-1">ЁЯФР ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржбрзЗ ржмрзЬ, ржЫрзЛржЯ ржЕржХрзНрж╖рж░, рж╕ржВржЦрзНржпрж╛ ржУ ржЪрж┐рж╣рзНржи ржерж╛ржХрждрзЗ рж╣ржмрзЗ, ржПржмржВ ржХржоржкржХрзНрж╖рзЗ рзо ржЕржХрзНрж╖рж░ рж╣рждрзЗ рж╣ржмрзЗред</p>
      </div>
      <input type="text" id="dob" placeholder="ЁЯУЕ ржЬржирзНржо рждрж╛рж░рж┐ржЦ (YYYY-MM-DD) *" onfocus="this.type='date'" onblur="if(this.value==''){this.type='text'}" class="col-span-2 px-4 py-2 border rounded" required>

      <textarea id="address" placeholder="ЁЯПа ржкрзВрж░рзНржг ржарж┐ржХрж╛ржирж╛ *" class="col-span-2 px-4 py-2 border rounded" required></textarea>

      <select id="state" class="px-4 py-2 border rounded" required>
        <option value="">ЁЯЧ║я╕П рж░рж╛ржЬрзНржп ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
      </select>
      <select id="district" class="px-4 py-2 border rounded" disabled required>
        <option value="">ЁЯПЮя╕П ржЬрзЗрж▓рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
      </select>
      <select id="thana" class="px-4 py-2 border rounded" disabled required>
        <option value="">ЁЯЪУ ржерж╛ржирж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
      </select>

      <input type="text" id="pincode" placeholder="ЁЯУо ржкрж┐ржи ржХрзЛржб *" class="px-4 py-2 border rounded" required>
      <input type="text" id="postOffice" placeholder="ЁЯПд ржкрзЛрж╕рзНржЯ ржЕржлрж┐рж╕ (ржЕржЯрзЛ)" class="px-4 py-2 border rounded" readonly>

      <input type="file" id="photo" accept="image/*" class="col-span-2 px-4 py-2 border rounded">

      <div class="col-span-2 flex items-start gap-2">
        <input type="checkbox" id="subscribe" class="mt-1">
        <label for="subscribe" class="text-sm">ржЖржорж┐ ржкрж░рзАржХрзНрж╖рж╛рж░ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЖржкржбрзЗржЯ ржУ ржЕржлрж╛рж░ ржкрзЗрждрзЗ ржЖржЧрзНрж░рж╣рзАред</label>
      </div>

      <div class="col-span-2 flex items-start gap-2">
        <input type="checkbox" id="terms" class="mt-1" required>
        <label for="terms" class="text-sm">ржЖржорж┐ <a href="terms.html" class="text-blue-600 underline">ржЯрж╛рж░рзНржорж╕ ржПржмржВ ржХржирзНржбрж┐рж╢ржи</a> ржорзЗржирзЗ ржирж┐ржЪрзНржЫрж┐ред</label>
      </div>

      <button type="submit" class="col-span-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition-all duration-300">тЬЕ рж╕рж╛ржЗржи ржЖржк ржХрж░рзБржи</button>
      <p id="message" class="col-span-2 text-center text-sm"></p>
    </form>
    <p class="text-center text-sm mt-4 text-gray-600">ржЗрждрж┐ржоржзрзНржпрзЗ ржПржХрж╛ржЙржирзНржЯ ржЖржЫрзЗ? <a href="index.html" class="text-blue-500 hover:underline">рж▓ржЧржЗржи ржХрж░рзБржи</a></p>
  </div>

  <script>
    const stateDistrictMap = {
      "West Bengal": {
        "Dakshin Dinajpur": ["Balurghat", "Kumarganj", "Tapan"],
        "Malda": ["English Bazar", "Gazole", "Harishchandrapur"]
      },
      "Bihar": {
        "Patna": ["Patna Sadar", "Phulwari Sharif"],
        "Gaya": ["Gaya Town", "Tekari"]
      }
      // Add more states/districts/thanas as needed
    };

    const stateSelect = document.getElementById("state");
    const districtSelect = document.getElementById("district");
    const thanaSelect = document.getElementById("thana");
    const pincodeInput = document.getElementById("pincode");
    const postOfficeField = document.getElementById("postOffice");

    // Populate States
    for (let state in stateDistrictMap) {
      const opt = document.createElement("option");
      opt.value = state;
      opt.textContent = state;
      stateSelect.appendChild(opt);
    }

    stateSelect.addEventListener("change", () => {
      districtSelect.innerHTML = '<option value="">ЁЯПЮя╕П ржЬрзЗрж▓рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>';
      thanaSelect.innerHTML = '<option value="">ЁЯЪУ ржерж╛ржирж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>';
      thanaSelect.disabled = true;

      const selectedState = stateSelect.value;
      if (selectedState && stateDistrictMap[selectedState]) {
        districtSelect.disabled = false;
        for (let dist in stateDistrictMap[selectedState]) {
          const opt = document.createElement("option");
          opt.value = dist;
          opt.textContent = dist;
          districtSelect.appendChild(opt);
        }
      } else {
        districtSelect.disabled = true;
      }
    });

    districtSelect.addEventListener("change", () => {
      thanaSelect.innerHTML = '<option value="">ЁЯЪУ ржерж╛ржирж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>';
      const selectedState = stateSelect.value;
      const selectedDistrict = districtSelect.value;
      if (selectedDistrict && stateDistrictMap[selectedState][selectedDistrict]) {
        thanaSelect.disabled = false;
        for (let thana of stateDistrictMap[selectedState][selectedDistrict]) {
          const opt = document.createElement("option");
          opt.value = thana;
          opt.textContent = thana;
          thanaSelect.appendChild(opt);
        }
      } else {
        thanaSelect.disabled = true;
      }
    });

    // PIN to Post Office
    pincodeInput.addEventListener("blur", async () => {
      const pin = pincodeInput.value.trim();
      if (pin.length === 6) {
        try {
          const res = await fetch(`https://api.postalpincode.in/pincode/${pin}`);
          const data = await res.json();
          const po = data[0]?.PostOffice?.[0]?.Name;
          if (po) {
            postOfficeField.value = po;
          } else {
            postOfficeField.value = "ржбрзЗржЯрж╛ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐";
          }
        } catch {
          postOfficeField.value = "ржЕржмрзИржз ржкрж┐ржи ржХрзЛржб";
        }
      }
    });
  </script>
</body>
</html>
