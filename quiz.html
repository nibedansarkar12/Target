<!-- üîÅ Simple Firebase-integrated quiz.html with: Firestore ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶≤‡ßã‡¶°, Next/Prev, Mark for Review, Timer, Submit --><!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    .question { font-weight: bold; margin-bottom: 10px; }
    .options { list-style: none; padding: 0; }
    .options li { margin-bottom: 5px; }
    .buttons { margin-top: 20px; display: flex; justify-content: space-between; }
    .buttons button { padding: 10px; }
    .info { margin-top: 10px; font-size: 14px; }
    #timer { font-weight: bold; margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>üìò ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßÅ‡¶á‡¶ú</h2>
  <div id="timer">‚è≥ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶¨‡¶æ‡¶ï‡¶ø: 80:00</div>
  <div class="question" id="question-text">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
  <ul class="options" id="options-list"></ul>
  <div class="info">
    <button onclick="markForReview()">üîñ Mark for Review</button>
  </div>
  <div class="buttons">
    <button onclick="prevQuestion()">‚¨ÖÔ∏è Previous</button>
    <button onclick="nextQuestion()">‚û°Ô∏è Next</button>
  </div>
  <div class="submit-section" style="margin-top: 30px;">
    <button onclick="submitQuiz()">‚úÖ Submit Now</button>
  </div>  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCR5rqthBh0vX0yLOcOG3b9xJiKbYtzdxU",
      authDomain: "target-zone-8fffd.firebaseapp.com",
      projectId: "target-zone-8fffd",
      storageBucket: "target-zone-8fffd.appspot.com",
      messagingSenderId: "667579216123",
      appId: "1:667579216123:web:37bb1fcc724743073d005e"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    let questions = [];
    let currentQuestion = 0;
    let answers = {};
    let review = [];
    let timeLeft = 80 * 60; // 80 minutes

    async function loadQuestions() {
      const snapshot = await getDocs(collection(db, "questions"));
      questions = snapshot.docs.map(doc => doc.data());
      if (questions.length === 0) {
        document.getElementById("question-text").textContent = "‚ö†Ô∏è ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!";
        return;
      }
      showQuestion();
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      document.getElementById("question-text").textContent = `‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${currentQuestion + 1}: ${q.question}`;
      const optionsList = document.getElementById("options-list");
      optionsList.innerHTML = "";
      q.options.forEach(opt => {
        const li = document.createElement("li");
        const checked = answers[currentQuestion] === opt ? "checked" : "";
        li.innerHTML = `<label><input type='radio' name='option' value='${opt}' ${checked}> ${opt}</label>`;
        optionsList.appendChild(li);
      });
    }

    document.addEventListener("change", e => {
      if (e.target.name === "option") {
        answers[currentQuestion] = e.target.value;
      }
    });

    function nextQuestion() {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        showQuestion();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion();
      }
    }

    function markForReview() {
      if (!review.includes(currentQuestion)) {
        review.push(currentQuestion);
        alert(`‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${currentQuestion + 1} ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`);
      }
    }

    function updateTimer() {
      const t = document.getElementById("timer");
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      t.textContent = `‚è≥ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶¨‡¶æ‡¶ï‡¶ø: ${min}:${sec < 10 ? "0" + sec : sec}`;
      if (--timeLeft < 0) {
        alert("üïí ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶∂‡ßá‡¶∑! ‡¶ï‡ßÅ‡¶á‡¶ú ‡¶è‡¶ñ‡¶® ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶¨‡ßá‡•§");
        submitQuiz();
      }
    }

    function submitQuiz() {
      let correct = 0, wrong = 0;
      questions.forEach((q, i) => {
        const a = answers[i];
        if (a === q.answer) correct++;
        else if (a) wrong++;
      });
      const score = correct * 2 - wrong * 0.25;
      alert(`‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï: ${correct}, ‚ùå ‡¶≠‡ßÅ‡¶≤: ${wrong}, üìä ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${score} / ${questions.length * 2}`);
    }

    setInterval(updateTimer, 1000);
    loadQuestions();
  </script></body>
</html>
