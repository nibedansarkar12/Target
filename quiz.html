<!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>Online Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; margin: 0; padding: 0; transition: background 0.3s, color 0.3s; }
    .dark-mode { background: #121212; color: #fff; }
    header { background: #4CAF50; color: #fff; padding: 10px 20px; text-align: center; position: relative; }
    #timer { position: absolute; right: 20px; top: 10px; font-size: 16px; }
    #darkToggle { position: absolute; left: 20px; top: 10px; cursor: pointer; }
    .container { max-width: 800px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    .dark-mode .container { background: #1f1f1f; }
    .question { font-size: 18px; margin-bottom: 10px; }
    .options { list-style: none; padding: 0; }
    .options li { margin-bottom: 8px; }
    .nav-btns { display: flex; justify-content: space-between; margin-top: 20px; }
    button { padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; }
    .palette { display: flex; flex-wrap: wrap; gap: 5px; margin: 15px 0; }
    .palette button { width: 30px; height: 30px; border: 1px solid #ccc; background: #eee; font-size: 14px; }
    .palette .attempted { background: #4CAF50; color: #fff; }
    .palette .review { background: #f9a825; color: #fff; }
    .summary { margin-top: 20px; font-size: 14px; }
    .progress-bar { height: 6px; background: #ccc; margin-top: 5px; border-radius: 3px; overflow: hidden; }
    .progress { height: 100%; background: #4CAF50; width: 0%; }
    .flag-btn { float: right; font-size: 12px; color: #e53935; cursor: pointer; }
  </style>
</head>
<body oncontextmenu="return false" oncopy="return false" oncut="return false" onpaste="return false">
  <header>
    <div id="darkToggle">üåô</div>
    ‡¶ï‡ßÅ‡¶á‡¶ú - <span id="student-email">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
    <div id="timer">‚è≥</div>
  </header>
  <div class="container">
    <div class="progress-bar"><div class="progress" id="progress"></div></div>
    <div class="question" id="question-text"></div>
    <ul class="options" id="options-list"></ul>
    <div class="flag-btn" onclick="alert('‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡¶ü‡¶ø ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®')">üö© ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</div>
    <div class="nav-btns">
      <button onclick="prevQuestion()">Previous</button>
      <button onclick="markForReview()">Mark for Review</button>
      <button onclick="nextQuestion()">Next</button>
    </div>
    <div class="palette" id="question-palette"></div>
    <div class="summary" id="attempt-summary"></div>
    <button style="margin-top:20px;background:#e53935;color:white;width:100%;" onclick="confirmSubmit()">Submit</button>
  </div>  <script>
    const questions = [
      { question: '2+2 = ?', options: ['3', '4', '5', '6'], answer: '4' },
      { question: 'Capital of France?', options: ['London', 'Berlin', 'Paris', 'Rome'], answer: 'Paris' },
      { question: 'HTML stands for?', options: ['Hyper Text Markup Language', 'Home Tool Markup', 'Hyperlinks Text', 'None'], answer: 'Hyper Text Markup Language' },
    ];
    let currentQuestion = 0;
    const answers = {};
    const reviewMarked = new Set();
    const flagged = new Set();
    const palette = document.getElementById('question-palette');

    function shuffle(arr) { for (let i = arr.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [arr[i], arr[j]] = [arr[j], arr[i]]; } }
    shuffle(questions);

    function updatePalette() {
      palette.innerHTML = '';
      for (let i = 0; i < questions.length; i++) {
        const btn = document.createElement('button');
        btn.textContent = i + 1;
        if (answers[i]) btn.classList.add('attempted');
        if (reviewMarked.has(i)) btn.classList.add('review');
        btn.onclick = () => { currentQuestion = i; showQuestion(); };
        palette.appendChild(btn);
      }
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('question-text').innerHTML = `‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${currentQuestion + 1}: ${q.question}`;
      const optionsList = document.getElementById('options-list');
      optionsList.innerHTML = '';
      q.options.forEach(opt => {
        const li = document.createElement('li');
        li.innerHTML = `<label><input type='radio' name='opt' value='${opt}' ${answers[currentQuestion] === opt ? 'checked' : ''}> ${opt}</label>`;
        optionsList.appendChild(li);
      });
      updatePalette();
      updateSummary();
      updateProgress();
    }

    document.addEventListener('change', e => {
      if (e.target.name === 'opt') {
        answers[currentQuestion] = e.target.value;
        updatePalette();
        updateSummary();
        updateProgress();
      }
    });

    function prevQuestion() { if (currentQuestion > 0) { currentQuestion--; showQuestion(); } }
    function nextQuestion() { if (currentQuestion < questions.length - 1) { currentQuestion++; showQuestion(); } }
    function markForReview() { reviewMarked.add(currentQuestion); updatePalette(); alert(`‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${currentQuestion + 1} ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`); }

    function updateSummary() {
      const attempted = Object.keys(answers).length;
      const review = reviewMarked.size;
      const skipped = questions.length - attempted;
      document.getElementById('attempt-summary').textContent = `Attempted: ${attempted}, Skipped: ${skipped}, Review: ${review}`;
    }

    function updateProgress() {
      const p = document.getElementById('progress');
      const perc = (Object.keys(answers).length / questions.length) * 100;
      p.style.width = `${perc}%`;
    }

    function confirmSubmit() {
      const total = questions.length;
      const correct = questions.filter((q, i) => answers[i] === q.answer).length;
      const wrong = Object.keys(answers).filter(i => answers[i] !== questions[i].answer).length;
      const score = correct * 2 - wrong * 0.25;
      const confirmText = `üìä ‡¶Ü‡¶™‡¶®‡¶ø ${correct}‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï, ${wrong}‡¶ü‡¶ø ‡¶≠‡ßÅ‡¶≤ ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§\n‡¶Æ‡ßã‡¶ü ‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${score} / ${total * 2}\n\n‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`;
      if (confirm(confirmText)) alert("‚úÖ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!");
    }

    // Timer
    let timeLeft = 80 * 60;
    setInterval(() => {
      if (--timeLeft <= 0) confirmSubmit();
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      document.getElementById('timer').textContent = `‚è±Ô∏è ${min}:${sec < 10 ? '0' + sec : sec}`;
    }, 1000);

    // Tab Change Warning
    let warnCount = 0;
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) {
        warnCount++;
        alert(`‚ö†Ô∏è ‡¶Ü‡¶™‡¶®‡¶ø ${warnCount} ‡¶¨‡¶æ‡¶∞ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶õ‡ßá‡¶°‡¶º‡ßá‡¶õ‡ßá‡¶®!`);
        if (warnCount >= 3) confirmSubmit();
      }
    });

    // Prevent back button
    history.pushState(null, null, location.href);
    window.onpopstate = () => {
      history.pushState(null, null, location.href);
      alert("‚õî Back ‡¶¨‡¶æ‡¶ü‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ!");
    };

    // Dark mode toggle
    document.getElementById('darkToggle').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });

    // Keyboard Shortcuts
    document.addEventListener('keydown', e => {
      if (e.key === 'n') nextQuestion();
      if (e.key === 'p') prevQuestion();
      if (e.key === 'r') markForReview();
      if (e.key === 's') confirmSubmit();
    });

    showQuestion();
  </script></body>
</html>
